{"remainingRequest":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\src\\components\\Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\src\\components\\Register.vue","mtime":1591556200551},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvaXphYmUvT25lRHJpdmUvUHVscGl0L2h5YnJ5ZHkvY3J1ZCBib29rIHZ1ZS9IeWJyeWRvd2VfcHJvamVrdDEvdnVlLXNwcmluZ2Jvb3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlZ2lzdGVyIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy91c2Vyc0xpc3Q6IFtdLAogICAgICB1c2VyOiB7CiAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIgogICAgICB9LAogICAgICBlcnJvcnM6IFtdLAogICAgICBjaGVja0FkbWluOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAoIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbG9naW4iKTsKICAgIH0gZWxzZSBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lkVXNlcicpICE9ICIxIikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgUmVnaXN0ZXI6IGZ1bmN0aW9uIFJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgYXV0aDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhdXRoID0gewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5jaGVja0FkbWluID09IGZhbHNlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmNoZWNrQWRtaW4pOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCdodHRwczovL2h5YnJ5ZGtvd2VhcGkuYXp1cmV3ZWJzaXRlcy5uZXQvcmVnaXN0ZXInLCB7CiAgICAgICAgICAgICAgICAgIGxvZ2luOiBfdGhpcy51c2VyLnVzZXJuYW1lLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMudXNlci5wYXNzd29yZAogICAgICAgICAgICAgICAgfSwgYXV0aCk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL3VzZXJzIik7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coInN1Y2NlcyIpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTA7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzID0gW107CgogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goIiIpOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1szLCAxMF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgR2VuZXJldGVQc3dkOiBmdW5jdGlvbiBHZW5lcmV0ZVBzd2QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGF1dGg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIGF1dGggPSB7CiAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJ2h0dHBzOi8vaHlicnlka293ZWFwaS5henVyZXdlYnNpdGVzLm5ldC9nZW5lcmF0ZVBhc3N3b3JkJywgYXV0aCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi51c2VyLnBhc3N3b3JkID0gcmVzdWx0LmRhdGE7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgbnVsbCwgW1swLCA2XV0pOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAcA,EAAA,OAdA,qBAcA;AACA,QAAA,CAAA,YAAA,CAAA,OAAA,CAAA,OAAA,CAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAFA,MAGA,IAAA,YAAA,CAAA,OAAA,CAAA,QAAA,KAAA,GAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AAEA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,IADA,GACA;AACA,kBAAA,OAAA,EAAA;AAAA,oBAAA,aAAA,EAAA,YAAA,YAAA,CAAA,OAAA,CAAA,OAAA;AAAA;AADA,iBADA;;AAAA,sBAGA,KAAA,CAAA,UAAA,IAAA,KAHA;AAAA;AAAA;AAAA;;AAIA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,UAAA;AAJA;AAAA;AAAA,uBAQA,KAAA,CAAA,IAAA,CAAA,kDAAA,EAAA;AACA,kBAAA,KAAA,EAAA,KAAA,CAAA,IAAA,CAAA,QADA;AAEA,kBAAA,QAAA,EAAA,KAAA,CAAA,IAAA,CAAA;AAFA,iBAAA,EAEA,IAFA,CARA;;AAAA;AAWA,gBAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,QAAA;;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AAZA;AAAA;;AAAA;AAAA;AAAA;AAeA,gBAAA,KAAA,CAAA,MAAA,GAAA,EAAA;;AACA,gBAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,EAAA;;AAhBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,KAtBA;AAuBA,IAAA,YAvBA,0BAuBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,IAFA,GAEA;AACA,kBAAA,OAAA,EAAA;AAAA,oBAAA,aAAA,EAAA,YAAA,YAAA,CAAA,OAAA,CAAA,OAAA;AAAA;AADA,iBAFA;AAAA;AAAA,uBAIA,KAAA,CAAA,IAAA,CAAA,0DAAA,EAAA,IAAA,EACA,IADA,CACA,UAAA,MAAA,EAAA;AACA,kBAAA,MAAA,CAAA,IAAA,CAAA,QAAA,GAAA,MAAA,CAAA,IAAA;AACA,iBAHA,CAJA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,OAAA,CAAA,GAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAlCA;AAvBA,CAAA","sourcesContent":["<template>\r\n\r\n<div >\r\n<h2>Add new user</h2>\r\n\r\n<form >\r\n   \r\n  <div class=\"form-group\">\r\n    <input type=\"text\" v-model=\"user.username\" placeholder=\"login\" required>\r\n    <br> <input type=\"text\" v-model=\"user.password\" placeholder=\"password\" required >\r\n   \r\n    <input type=\"submit\" @click=\"GeneretePswd()\" value=\"Generuj losowe hasło\">\r\n\r\n     <br><input type=\"submit\" @click=\"Register\"  value=\"Stwórz\">\r\n  </div>\r\n  <p v-if=\"errors.length\">\r\n    <a style=\"color:red\" v-for=\"error in errors\" :key=\"error\">{{ error }}</a>\r\n  </p>\r\n</form>\r\n\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"Register\",\r\n  data() {\r\n    return {\r\n      //usersList: [],\r\n      user:{\r\n        username:\"\",\r\n        password:\"\"\r\n      },\r\n      errors:[],\r\n      checkAdmin:false\r\n    };\r\n  },\r\n \r\n   mounted(){\r\n      if(!localStorage.getItem('token')){\r\n          this.$router.push(\"/login\")\r\n        }\r\n        else if(localStorage.getItem('idUser')!=\"1\"){\r\n           this.$router.push(\"/\")\r\n        }\r\n        \r\n    },\r\n   methods:{\r\n    async Register(){\r\n       const auth={\r\n            headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}\r\n         if(this.checkAdmin==false){\r\n             console.log(this.checkAdmin);\r\n             \r\n              try{\r\n               \r\n             await axios.post('https://hybrydkoweapi.azurewebsites.net/register',{\r\n              login:this.user.username,\r\n              password:this.user.password}, auth);\r\n            this.$router.push(\"/users\");\r\n            console.log(\"succes\");\r\n           }\r\n           catch(e){\r\n           this.errors=[];\r\n           this.errors.push(\"\")\r\n           }\r\n\r\n          }\r\n          \r\n   },\r\n   async GeneretePswd(){\r\n      try{\r\n         const auth={\r\n            headers:{Authorization:\"Bearer \"+localStorage.getItem('token')}}\r\n            await axios.post('https://hybrydkoweapi.azurewebsites.net/generatePassword', auth)\r\n            .then(result=>{\r\n                this.user.password=result.data;\r\n            });\r\n      }catch(e){\r\n          console.log(e)\r\n      }\r\n   }\r\n\r\n   }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":"src/components"}]}