{"remainingRequest":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\src\\components\\Login.vue","mtime":1591306200847},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\izabe\\OneDrive\\Pulpit\\hybrydy\\crud book vue\\Hybrydowe_projekt1\\vue-springboot\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJMb2dpbiIsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8vdXNlcnNMaXN0OiBbXSwNCiAgICAgIHVzZXI6ew0KICAgICAgICB1c2VybmFtZToiIiwNCiAgICAgICAgcGFzc3dvcmQ6IiINCiAgICAgIH0sDQogICAgICAgZXJyb3JzOiBbXQ0KICAgIH07DQogIH0sDQogIHZhbGlkYXRpb25zOiB7DQogICAgdXNlcjogew0KICAgICAgdXNlcm5hbWU6IHsgcmVxdWlyZWQgfSwNCiAgICAgIHBhc3N3b3JkOiB7IHJlcXVpcmVkLCBlbWFpbCB9DQogICAgfQ0KICB9LA0KIGFzeW5jIG1vdW50ZWQoKXsNCiAgICAgICAgICAvLyAgdHJ5ew0KICAgICAgICAgIC8vICAgYXdhaXQgYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjgwODAvdXNlcnMnKS50aGVuKHVzZXJzID0+IHRoaXMudXNlcnNMaXN0PXVzZXJzLmRhdGEpDQogICAgICAgICAgICAgDQogICAgICAgICAgLy8gIH0NCiAgICAgICAgICAvLyAgY2F0Y2goZSl7DQogICAgICAgICAgLy8gICAgY29uc29sZS5lcnJvcihlKTsNCiAgICAgICAgICAvLyAgfQ0KICAgfSwNCiAgIG1ldGhvZHM6ew0KICAgIGFzeW5jIExvZ2luKCl7DQogICAgICAgICAgIGlmICh0aGlzLnVzZXIubG9naW4gJiYgdGhpcy51c2VyLnBhc3N3b3JkKSB7DQogICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgIGF3YWl0IGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9sb2dpbicsew0KICAgICAgICAgICAgICBsb2dpbjp0aGlzLnVzZXIudXNlcm5hbWUsDQogICAgICAgICAgICAgIHBhc3N3b3JkOnRoaXMudXNlci5wYXNzd29yZA0KICAgICAgICAgICAgICANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsNCiAgICAgICAgICAgfQ0KICAgICAgICAgICBjYXRjaChlKXsNCiAgICAgICAgICAgIHRoaXMuZXJyb3JzPVtdOw0KICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnSW52YWxpZCBsb2dpbiBvciBwYXNzd29yZC4nKTsNCiAgICAgICAgICAgfX0NCg0KICAgICAgICAgICB0aGlzLmVycm9ycyA9IFtdOw0KDQogICAgICAgICAgIGlmICghdGhpcy51c2VyLmxvZ2luKSB7DQogICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnTG9naW4gcmVxdWlyZWQuJyk7DQogICAgICAgICAgIH0NCiAgICAgICAgICAgaWYgKCF0aGlzLnVzZXIucGFzc3dvcmQpIHsNCiAgICAgICAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnUGFzc3dvcmQgcmVxdWlyZWQuJyk7DQogICAgICAgICAgIA0KICAgICAgICAgfQ0KDQogICB9DQoNCiAgIH0NCn07DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\r\n<div >\r\n<h2>Log in</h2>\r\n\r\n<form>\r\n   <p v-if=\"errors.length\">\r\n    <b>Please correct the following error(s):</b>\r\n    <ul>\r\n      <li v-for=\"error in errors\" :key=\"error\">{{ error }}</li>\r\n    </ul>\r\n  </p>\r\n  <div class=\"form-group\">\r\n    <input type=\"text\" v-model=\"user.login\" placeholder=\"login\">\r\n     <input type=\"password\" v-model=\"user.password\" placeholder=\"password\">\r\n     <input type=\"submit\" @click=\"Login\"  value=\"Log in\">\r\n  </div>\r\n</form>\r\n\r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      //usersList: [],\r\n      user:{\r\n        username:\"\",\r\n        password:\"\"\r\n      },\r\n       errors: []\r\n    };\r\n  },\r\n  validations: {\r\n    user: {\r\n      username: { required },\r\n      password: { required, email }\r\n    }\r\n  },\r\n async mounted(){\r\n          //  try{\r\n          //   await axios.get('http://localhost:8080/users').then(users => this.usersList=users.data)\r\n             \r\n          //  }\r\n          //  catch(e){\r\n          //    console.error(e);\r\n          //  }\r\n   },\r\n   methods:{\r\n    async Login(){\r\n           if (this.user.login && this.user.password) {\r\n          try{\r\n             await axios.post('http://localhost:8080/login',{\r\n              login:this.user.username,\r\n              password:this.user.password\r\n              \r\n            });\r\n            this.$router.push(\"/\");\r\n           }\r\n           catch(e){\r\n            this.errors=[];\r\n            this.errors.push('Invalid login or password.');\r\n           }}\r\n\r\n           this.errors = [];\r\n\r\n           if (!this.user.login) {\r\n                this.errors.push('Login required.');\r\n           }\r\n           if (!this.user.password) {\r\n              this.errors.push('Password required.');\r\n           \r\n         }\r\n\r\n   }\r\n\r\n   }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}